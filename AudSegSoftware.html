<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Trabalho de Auditoria e Segurança de Software</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <style media="screen">
    .hue{
        background-color: red;
    }
    .dropdown-padding{
        padding: 50px;
    }
    </style>


</head>
<!--
Implementar, em linguagem de programação, o esquema RSA.
O programa deve ser APRESENTADO pelo aluno. O código deve estar disponível na apresentação,
e o executável funcionando corretamente.

Sugere-se que se empregue alguma biblioteca de BIG NUMBERS,
disponível gratuitamente na rede em diversas Linguagens de Programação.

OBS: as operações modulares DEVEM ser implementadas.
Não será aceito trabalho que funcione sem a implementação dessas operações.
Cópias de programas - da Internet ou de colegas - não serão consideradas para avaliação.

Sugere-se que o usuário ESCOLHA "P" e "Q" (combo box, com os primos, no mínino, até 1000).
O sistema pode apresentar os possíveis "E" (outra combo). O usuário, ao escolher um "E",
permite que o sistema gere um "D".

Para a cifragem e decifragem da mensagem (que o usuário deverá digitar),
cada desenvolvedor define como irá codificar. O importante é que a mensagem cifrada possa ser editável,
pois eu farei testes para verificar o que ocorre ao decifrar a mensagem. -->


<body>

    <div class="col-lg-offset-1 col-lg-10">

        <div class="col-lg-offset-4 dropdown-padding">
            <div id="myDiv">
            </div>
            <select class="btn btn-default dropdown-toggle" name="">
                <option value="">Escolha E</option>
            </select>

            <button onclick="showValuesE()" type="button" class="btn btn-success">Confirmar</button>


        </div>

        <p>
            N:
        </p>
        <p>
            Z:
        </p>
        <p>
            E:
        </p>
        <p>
            D:
        </p>
        <p>
            C:
        </p>
        <p>
            M:
        </p>



    </div>


    <!--
    N => P * Q OK
    Z => (P - 1) * (Q - 1) OK
    E => primo relativo a Z (não tenha fatores em comum)
    D => E * D = (múltiplo de Z) + 1
    C (cifragem) => M^E mod N
    M (decifragem) => C^D mod N
    Chaves => (E, N) e (D, N)
-->




<script>
var valueN = 0;
var valueZ = 0;
var valueE = 0;
var valueD = 0;
var valueC = 0;
var valueM = 0;


function setValueN(p, q){
    valueN = parseInt(p.value) * parseInt(q.value);
}

function setValueZ(p, q){
    valueZ = (parseInt(p.value) - 1) * (parseInt(q.value) - 1);
}


function showValuesE(){
    var valueP = document.getElementById("selectP");
    var valueQ = document.getElementById("selectQ");

    setValueN(valueP, valueQ);
    setValueZ(valueP, valueQ);

}
// Aqui começa a função que enche os dropdowns
function getPrimes(max) {
    var sieve = [], i, j, primes = [];
    // sieve = peneira
    for(i = 2; i <= max; ++i) {
        if (!sieve[i]) {
            primes.push(i);
            for (j = i << 1; j <= max; j += i) {
                sieve[j] = true;
            }
        }
    }
    return primes;
}


var myDiv = document.getElementById("myDiv");
var arrayNumberPrimes = [];

arrayNumberPrimes = getPrimes(1000);

var selectList = document.createElement("select");
selectList.setAttribute("class", "btn btn-default dropdown-toggle");
selectList.id = "selectP";
myDiv.appendChild(selectList);
var optionDefault = document.createElement("option");
optionDefault.text = "Escolha P";
selectList.appendChild(optionDefault);

var selectList2 = document.createElement("select");
selectList2.style.margin = "10px";
selectList2.setAttribute("class", "btn btn-default dropdown-toggle");
selectList2.id = "selectQ";
myDiv.appendChild(selectList2);
var optionDefault2 = document.createElement("option");
optionDefault2.text = "Escolha Q";
selectList2.appendChild(optionDefault2);


for(var i = 0; i < arrayNumberPrimes.length; i++){
    var option = document.createElement("option");
    option.value = arrayNumberPrimes[i];
    option.text = arrayNumberPrimes[i];
    selectList.appendChild(option);
}
for(var i = 0; i < arrayNumberPrimes.length; i++){
    var option2 = document.createElement("option");
    option2.value = arrayNumberPrimes[i];
    option2.text = arrayNumberPrimes[i];
    selectList2.appendChild(option2);
}
// fim










</script>

</body>
</html>
